<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1038px" preserveAspectRatio="none" style="width:840px;height:1038px;background:#FFFFFF;" version="1.1" viewBox="0 0 840 1038" width="840px" zoomAndPan="magnify"><defs><filter height="300%" id="ftft37ihy569z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4dee29f85b217686b3aafe3136fb924c]
cluster psr.log--><polygon fill="#FFFFFF" filter="url(#ftft37ihy569z)" points="170,6,225,6,232,28.4883,540,28.4883,540,222,170,222,170,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="170" x2="232" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49" x="174" y="21.5352">psr.log</text><!--MD5=[c6db52c943aa4e255235ac878148ce84]
cluster md.log--><polygon fill="#FFFFFF" filter="url(#ftft37ihy569z)" points="16,246,71,246,78,268.4883,823,268.4883,823,1031,16,1031,16,246" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="78" y1="268.4883" y2="268.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49" x="20" y="261.5352">md.log</text><!--MD5=[f2739334762f199a60e808420ae2011e]
class psr.log.LoggerInterface--><rect codeLine="11" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="164.5957" id="psr.log.LoggerInterface" style="stroke:#333333;stroke-width:1.5;" width="338" x="186" y="41"/><ellipse cx="306.25" cy="57" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M302.1777,52.7651 L302.1777,50.6069 L309.5571,50.6069 L309.5571,52.7651 L307.0918,52.7651 L307.0918,60.8418 L309.5571,60.8418 L309.5571,63 L302.1777,63 L302.1777,60.8418 L304.6431,60.8418 L304.6431,52.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="326.75" y="61.5352">LoggerInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="187" x2="523" y1="73" y2="73"/><ellipse cx="197" cy="84" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="206" y="87.6348">emergency (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="96.9551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="268" x="206" y="100.5898">alert (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="109.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="280" x="206" y="113.5449">critical (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="122.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="206" y="126.5">error (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="135.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="287" x="206" y="139.4551">warning (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="148.7754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="277" x="206" y="152.4102">notice (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="161.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="206" y="165.3652">info (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="174.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="206" y="178.3203">debug (message: str, context: dict = None) -&gt; None</text><line style="stroke:#333333;stroke-width:1.0;" x1="187" x2="523" y1="184.6406" y2="184.6406"/><ellipse cx="197" cy="195.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="312" x="206" y="199.2754">log (level: str, message: str, context: dict = None) -&gt; None</text><!--MD5=[aa890edfa53d487f7be5005990873fd1]
class md.log.Logger--><rect codeLine="26" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="198.5059" id="md.log.Logger" style="stroke:#333333;stroke-width:1.5;" width="338" x="186" y="281"/><ellipse cx="331.25" cy="297" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M334.2231,302.6431 Q333.6421,302.9419 333.0029,303.0913 Q332.3638,303.2407 331.6582,303.2407 Q329.1514,303.2407 327.8315,301.5889 Q326.5117,299.937 326.5117,296.8159 Q326.5117,293.6865 327.8315,292.0347 Q329.1514,290.3828 331.6582,290.3828 Q332.3638,290.3828 333.0112,290.5322 Q333.6587,290.6816 334.2231,290.9805 L334.2231,293.7031 Q333.5923,293.1221 332.9988,292.8523 Q332.4053,292.5825 331.7744,292.5825 Q330.4297,292.5825 329.7449,293.6492 Q329.0601,294.7158 329.0601,296.8159 Q329.0601,298.9077 329.7449,299.9744 Q330.4297,301.041 331.7744,301.041 Q332.4053,301.041 332.9988,300.7712 Q333.5923,300.5015 334.2231,299.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="351.75" y="301.5352">Logger</text><line style="stroke:#333333;stroke-width:1.5;" x1="187" x2="523" y1="313" y2="313"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="194" y="321"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="206" y="327.6348">patch_list: List[PatchInterface]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="194" y="333.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="206" y="340.5898">keep_list: List[KeepInterface]</text><line style="stroke:#333333;stroke-width:1.0;" x1="187" x2="523" y1="346.9102" y2="346.9102"/><ellipse cx="197" cy="357.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="206" y="361.5449">emergency (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="370.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="268" x="206" y="374.5">alert (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="383.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="280" x="206" y="387.4551">critical (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="396.7754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="206" y="400.4102">error (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="409.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="287" x="206" y="413.3652">warning (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="422.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="277" x="206" y="426.3203">notice (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="435.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="206" y="439.2754">info (message: str, context: dict = None) -&gt; None</text><ellipse cx="197" cy="448.5957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="206" y="452.2305">debug (message: str, context: dict = None) -&gt; None</text><line style="stroke:#333333;stroke-width:1.0;" x1="187" x2="523" y1="458.5508" y2="458.5508"/><ellipse cx="197" cy="469.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="312" x="206" y="473.1855">log (level: str, message: str, context: dict = None) -&gt; None</text><!--MD5=[005a7d44e06e8962638631cb6a8f07ae]
class md.log.KeepInterface--><rect codeLine="42" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.KeepInterface" style="stroke:#333333;stroke-width:1.5;" width="170" x="608" y="350"/><ellipse cx="649.1" cy="366" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M645.0277,361.7651 L645.0277,359.6069 L652.4071,359.6069 L652.4071,361.7651 L649.9418,361.7651 L649.9418,369.8418 L652.4071,369.8418 L652.4071,372 L645.0277,372 L645.0277,369.8418 L647.4931,369.8418 L647.4931,361.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="668.9" y="370.5352">KeepInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="609" x2="777" y1="382" y2="382"/><line style="stroke:#333333;stroke-width:1.5;" x1="609" x2="777" y1="390" y2="390"/><ellipse cx="619" cy="401" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="628" y="404.6348">keep(record: dict) -&gt; None</text><!--MD5=[33bde8186f61ee692785868e3fc20301]
class md.log.PatchInterface--><rect codeLine="46" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.PatchInterface" style="stroke:#333333;stroke-width:1.5;" width="167" x="246.5" y="613"/><ellipse cx="285.8" cy="629" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M281.7277,624.7651 L281.7277,622.6069 L289.1071,622.6069 L289.1071,624.7651 L286.6418,624.7651 L286.6418,632.8418 L289.1071,632.8418 L289.1071,635 L281.7277,635 L281.7277,632.8418 L284.1931,632.8418 L284.1931,624.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="305.2" y="633.5352">PatchInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="247.5" x2="412.5" y1="645" y2="645"/><line style="stroke:#333333;stroke-width:1.5;" x1="247.5" x2="412.5" y1="653" y2="653"/><ellipse cx="257.5" cy="664" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="266.5" y="667.6348">patch(record: dict) -&gt; dict</text><!--MD5=[3e9b7dee2a5d411dd03b801e4be4fb1e]
class md.log.FormatInterface--><rect codeLine="50" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.FormatInterface" style="stroke:#333333;stroke-width:1.5;" width="168" x="639" y="807"/><ellipse cx="674.7" cy="823" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M670.6277,818.7651 L670.6277,816.6069 L678.0071,816.6069 L678.0071,818.7651 L675.5418,818.7651 L675.5418,826.8418 L678.0071,826.8418 L678.0071,829 L670.6277,829 L670.6277,826.8418 L673.0931,826.8418 L673.0931,818.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="90" x="693.3" y="827.5352">FormatInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="640" x2="806" y1="839" y2="839"/><line style="stroke:#333333;stroke-width:1.5;" x1="640" x2="806" y1="847" y2="847"/><ellipse cx="650" cy="858" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="659" y="861.6348">format(record: dict) -&gt; str</text><!--MD5=[79c10666335c6769e10ced556ab2f6c9]
class md.log.Format--><rect codeLine="54" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="86.8652" id="md.log.Format" style="stroke:#333333;stroke-width:1.5;" width="168" x="424" y="928"/><ellipse cx="483.75" cy="944" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M486.7231,949.6431 Q486.1421,949.9419 485.5029,950.0913 Q484.8638,950.2407 484.1582,950.2407 Q481.6514,950.2407 480.3315,948.5889 Q479.0117,946.937 479.0117,943.8159 Q479.0117,940.6865 480.3315,939.0347 Q481.6514,937.3828 484.1582,937.3828 Q484.8638,937.3828 485.5112,937.5322 Q486.1587,937.6816 486.7231,937.9805 L486.7231,940.7031 Q486.0923,940.1221 485.4988,939.8523 Q484.9053,939.5825 484.2744,939.5825 Q482.9297,939.5825 482.2449,940.6492 Q481.5601,941.7158 481.5601,943.8159 Q481.5601,945.9077 482.2449,946.9744 Q482.9297,948.041 484.2744,948.041 Q484.9053,948.041 485.4988,947.7712 Q486.0923,947.5015 486.7231,946.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="504.25" y="948.5352">Format</text><line style="stroke:#333333;stroke-width:1.5;" x1="425" x2="591" y1="960" y2="960"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="432" y="968"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="444" y="974.6348">record_format: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="432" y="980.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="444" y="987.5898">date_format: str</text><line style="stroke:#333333;stroke-width:1.0;" x1="425" x2="591" y1="993.9102" y2="993.9102"/><ellipse cx="435" cy="1004.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="444" y="1008.5449">format(record: dict) -&gt; str</text><!--MD5=[96d4a802377cc2d92e3c28bc2c82aff0]
class SerializationFormat--><rect codeLine="61" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="86.8652" id="SerializationFormat" style="stroke:#333333;stroke-width:1.5;" width="180" x="627" y="928"/><ellipse cx="659.55" cy="944" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M662.5231,949.6431 Q661.9421,949.9419 661.3029,950.0913 Q660.6638,950.2407 659.9582,950.2407 Q657.4514,950.2407 656.1315,948.5889 Q654.8117,946.937 654.8117,943.8159 Q654.8117,940.6865 656.1315,939.0347 Q657.4514,937.3828 659.9582,937.3828 Q660.6638,937.3828 661.3112,937.5322 Q661.9587,937.6816 662.5231,937.9805 L662.5231,940.7031 Q661.8923,940.1221 661.2988,939.8523 Q660.7053,939.5825 660.0744,939.5825 Q658.7297,939.5825 658.0449,940.6492 Q657.3601,941.7158 657.3601,943.8159 Q657.3601,945.9077 658.0449,946.9744 Q658.7297,948.041 660.0744,948.041 Q660.7053,948.041 661.2988,947.7712 Q661.8923,947.5015 662.5231,946.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="677.45" y="948.5352">SerializationFormat</text><line style="stroke:#333333;stroke-width:1.5;" x1="628" x2="806" y1="960" y2="960"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="635" y="968"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="647" y="974.6348">serializer: Callable[[dict], str]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="635" y="980.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="647" y="987.5898">date_format: str</text><line style="stroke:#333333;stroke-width:1.0;" x1="628" x2="806" y1="993.9102" y2="993.9102"/><ellipse cx="638" cy="1004.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="647" y="1008.5449">format(record: dict) -&gt; str</text><!--MD5=[ff2ecfd31df15036c70fd59e8b140851]
class md.log.ThreadPidPatch--><rect codeLine="68" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.ThreadPidPatch" style="stroke:#333333;stroke-width:1.5;" width="167" x="32.5" y="807"/><ellipse cx="67.3" cy="823" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M70.2731,828.6431 Q69.6921,828.9419 69.0529,829.0913 Q68.4138,829.2407 67.7082,829.2407 Q65.2014,829.2407 63.8815,827.5889 Q62.5617,825.937 62.5617,822.8159 Q62.5617,819.6865 63.8815,818.0347 Q65.2014,816.3828 67.7082,816.3828 Q68.4138,816.3828 69.0612,816.5322 Q69.7087,816.6816 70.2731,816.9805 L70.2731,819.7031 Q69.6423,819.1221 69.0488,818.8523 Q68.4553,818.5825 67.8244,818.5825 Q66.4797,818.5825 65.7949,819.6492 Q65.1101,820.7158 65.1101,822.8159 Q65.1101,824.9077 65.7949,825.9744 Q66.4797,827.041 67.8244,827.041 Q68.4553,827.041 69.0488,826.7712 Q69.6423,826.5015 70.2731,825.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="85.7" y="827.5352">ThreadPidPatch</text><line style="stroke:#333333;stroke-width:1.5;" x1="33.5" x2="198.5" y1="839" y2="839"/><line style="stroke:#333333;stroke-width:1.5;" x1="33.5" x2="198.5" y1="847" y2="847"/><ellipse cx="43.5" cy="858" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="52.5" y="861.6348">patch(record: dict) -&gt; dict</text><!--MD5=[e2d5a791177be8aab161b42b46c03703]
class md.log.FormatExceptionPatch--><rect codeLine="71" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.FormatExceptionPatch" style="stroke:#333333;stroke-width:1.5;" width="167" x="234.5" y="807"/><ellipse cx="253.1" cy="823" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M256.0731,828.6431 Q255.4921,828.9419 254.8529,829.0913 Q254.2138,829.2407 253.5082,829.2407 Q251.0014,829.2407 249.6815,827.5889 Q248.3617,825.937 248.3617,822.8159 Q248.3617,819.6865 249.6815,818.0347 Q251.0014,816.3828 253.5082,816.3828 Q254.2138,816.3828 254.8612,816.5322 Q255.5087,816.6816 256.0731,816.9805 L256.0731,819.7031 Q255.4423,819.1221 254.8488,818.8523 Q254.2553,818.5825 253.6244,818.5825 Q252.2797,818.5825 251.5949,819.6492 Q250.9101,820.7158 250.9101,822.8159 Q250.9101,824.9077 251.5949,825.9744 Q252.2797,827.041 253.6244,827.041 Q254.2553,827.041 254.8488,826.7712 Q255.4423,826.5015 256.0731,825.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="267.9" y="827.5352">FormatExceptionPatch</text><line style="stroke:#333333;stroke-width:1.5;" x1="235.5" x2="400.5" y1="839" y2="839"/><line style="stroke:#333333;stroke-width:1.5;" x1="235.5" x2="400.5" y1="847" y2="847"/><ellipse cx="245.5" cy="858" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="254.5" y="861.6348">patch(record: dict) -&gt; dict</text><!--MD5=[bbd4da971095b97d6822c721aeecd958]
class md.log.KeepStream--><rect codeLine="75" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="206.5059" id="md.log.KeepStream" style="stroke:#333333;stroke-width:1.5;" width="202" x="598" y="540"/><ellipse cx="659.75" cy="556" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M662.7231,561.6431 Q662.1421,561.9419 661.5029,562.0913 Q660.8638,562.2407 660.1582,562.2407 Q657.6514,562.2407 656.3315,560.5889 Q655.0117,558.937 655.0117,555.8159 Q655.0117,552.6865 656.3315,551.0347 Q657.6514,549.3828 660.1582,549.3828 Q660.8638,549.3828 661.5112,549.5322 Q662.1587,549.6816 662.7231,549.9805 L662.7231,552.7031 Q662.0923,552.1221 661.4988,551.8523 Q660.9053,551.5825 660.2744,551.5825 Q658.9297,551.5825 658.2449,552.6492 Q657.5601,553.7158 657.5601,555.8159 Q657.5601,557.9077 658.2449,558.9744 Q658.9297,560.041 660.2744,560.041 Q660.9053,560.041 661.4988,559.7712 Q662.0923,559.5015 662.7231,558.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="680.25" y="560.5352">KeepStream</text><line style="stroke:#333333;stroke-width:1.5;" x1="599" x2="799" y1="572" y2="572"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="606" y="580"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="618" y="586.6348">format: FormatInterface</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="606" y="592.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="618" y="599.5898">stream_list: List[IO]</text><line style="stroke:#333333;stroke-width:1.0;" x1="599" x2="799" y1="605.9102" y2="605.9102"/><ellipse cx="609" cy="616.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="618" y="620.5449">__init__(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="618" y="633.5">stream_list: List[IO],</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="618" y="646.4551">format_: FormatInterface = None</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="618" y="659.4102">) -&gt; None</text><line style="stroke:#333333;stroke-width:1.0;" x1="599" x2="799" y1="665.7305" y2="665.7305"/><ellipse cx="609" cy="676.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="52" x="618" y="680.3652">from_file(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="618" y="693.3203">filename_list: List[str],</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="618" y="706.2754">format_: FormatInterface = None</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="618" y="719.2305">) -&gt; None</text><line style="stroke:#333333;stroke-width:1.0;" x1="599" x2="799" y1="725.5508" y2="725.5508"/><ellipse cx="609" cy="736.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="618" y="740.1855">keep(record: dict) -&gt; None</text><!--MD5=[835594d23cafa0d0b65ba6942f21e1e7]
class md.log.PidPatch--><rect codeLine="92" fill="#EBEBEB" filter="url(#ftft37ihy569z)" height="60.9551" id="md.log.PidPatch" style="stroke:#333333;stroke-width:1.5;" width="167" x="436.5" y="807"/><ellipse cx="491.25" cy="823" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M494.2231,828.6431 Q493.6421,828.9419 493.0029,829.0913 Q492.3638,829.2407 491.6582,829.2407 Q489.1514,829.2407 487.8315,827.5889 Q486.5117,825.937 486.5117,822.8159 Q486.5117,819.6865 487.8315,818.0347 Q489.1514,816.3828 491.6582,816.3828 Q492.3638,816.3828 493.0112,816.5322 Q493.6587,816.6816 494.2231,816.9805 L494.2231,819.7031 Q493.5923,819.1221 492.9988,818.8523 Q492.4053,818.5825 491.7744,818.5825 Q490.4297,818.5825 489.7449,819.6492 Q489.0601,820.7158 489.0601,822.8159 Q489.0601,824.9077 489.7449,825.9744 Q490.4297,827.041 491.7744,827.041 Q492.4053,827.041 492.9988,826.7712 Q493.5923,826.5015 494.2231,825.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="511.75" y="827.5352">PidPatch</text><line style="stroke:#333333;stroke-width:1.5;" x1="437.5" x2="602.5" y1="839" y2="839"/><line style="stroke:#333333;stroke-width:1.5;" x1="437.5" x2="602.5" y1="847" y2="847"/><ellipse cx="447.5" cy="858" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="456.5" y="861.6348">patch(record: dict) -&gt; dict</text><!--MD5=[b34a15fde0383a83f324498c3f56a89c]
reverse link psr.log.LoggerInterface to md.log.Logger--><path d="M355,226.23 C355,226.23 355,280.86 355,280.86 " fill="none" id="psr.log.LoggerInterface-backto-md.log.Logger" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="348,226.23,355,206.23,362,226.23,348,226.23" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[07a1042b45e854396271ce5d81a400aa]
reverse link md.log.FormatInterface to md.log.Format--><path d="M618.9,838 C618.9,838 615.25,838 615.25,838 C615.25,838 615.25,972 615.25,972 C615.25,972 605.67,972 592.24,972 " fill="none" id="md.log.FormatInterface-backto-md.log.Format" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="618.9,831,638.9,838,618.9,845,618.9,831" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[f43777802d5fb9a6253ffaf18581bfe0]
reverse link md.log.FormatInterface to SerializationFormat--><path d="M723,888.24 C723,888.24 723,927.95 723,927.95 " fill="none" id="md.log.FormatInterface-backto-SerializationFormat" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="716,888.24,723,868.24,730,888.24,716,888.24" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[f0404b19825efd1761f37e9d6a717819]
reverse link md.log.PatchInterface to md.log.ThreadPidPatch--><path d="M226.21,644 C226.21,644 192.75,644 192.75,644 C192.75,644 192.75,752.28 192.75,806.84 " fill="none" id="md.log.PatchInterface-backto-md.log.ThreadPidPatch" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="226.21,637,246.21,644,226.21,651,226.21,637" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[c6bd34350b06307aaf64ce27b14355a5]
reverse link md.log.PatchInterface to md.log.FormatExceptionPatch--><path d="M324,694.24 C324,694.24 324,806.9 324,806.9 " fill="none" id="md.log.PatchInterface-backto-md.log.FormatExceptionPatch" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="317,694.24,324,674.24,331,694.24,317,694.24" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[a4bb7dcdead513312d694ae6018faf26]
reverse link md.log.KeepInterface to md.log.KeepStream--><path d="M693,431.18 C693,431.18 693,539.85 693,539.85 " fill="none" id="md.log.KeepInterface-backto-md.log.KeepStream" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="686,431.18,693,411.18,700,431.18,686,431.18" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[e08ecd0a0bbb62840fd6f4eadf1cae16]
reverse link md.log.PatchInterface to md.log.PidPatch--><path d="M407.5,694.32 C407.5,694.32 407.5,838 407.5,838 C407.5,838 419.9,838 436.47,838 " fill="none" id="md.log.PatchInterface-backto-md.log.PidPatch" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="400.5,694.32,407.5,674.32,414.5,694.32,400.5,694.32" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[bf1401379ca5604b37bdaef310e9cd5c]
link md.log.Logger to md.log.PatchInterface--><path codeLine="96" d="M330,492.3 C330,492.3 330,599.99 330,599.99 " fill="none" id="md.log.Logger-md.log.PatchInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="330,612.99,334,603.99,330,607.99,326,603.99,330,612.99" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="330" x2="330" y1="607.99" y2="599.99"/><polygon fill="#FFFFFF" points="330,480.3,326,486.3,330,492.3,334,486.3,330,480.3" style="stroke:#333333;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="309" y="543.2184">1:n</text><!--MD5=[aa00b291b8c89e53553a17ceb7668809]
link md.log.Logger to md.log.KeepInterface--><path codeLine="97" d="M536.5,381 C536.5,381 594.99,381 594.99,381 " fill="none" id="md.log.Logger-md.log.KeepInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="607.99,381,598.99,377,602.99,381,598.99,385,607.99,381" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="602.99" x2="594.99" y1="381" y2="381"/><polygon fill="#333333" points="524.5,381,530.5,385,536.5,381,530.5,377,524.5,381" style="stroke:#333333;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="545.24" y="377.5684">1:n</text><!--MD5=[c7888e052834a02bf2585c009c5c0ed0]
link md.log.KeepStream to md.log.FormatInterface--><path codeLine="98" d="M719.5,759.03 C719.5,759.03 719.5,793.79 719.5,793.79 " fill="none" id="md.log.KeepStream-md.log.FormatInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="719.5,806.79,723.5,797.79,719.5,801.79,715.5,797.79,719.5,806.79" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="719.5" x2="719.5" y1="801.79" y2="793.79"/><polygon fill="#FFFFFF" points="719.5,747.03,715.5,753.03,719.5,759.03,723.5,753.03,719.5,747.03" style="stroke:#333333;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="698.5" y="773.4784">1:1</text><!--MD5=[c20cd6bc75588190d7dc0ee8a5fd4a98]
@startuml

skinparam class {
  BackgroundColor #ebebeb
  ArrowColor      #333
  BorderColor     #333
}

skinparam lineType ortho

package psr.log {
  interface psr.log.LoggerInterface {
    + emergency (message: str, context: dict = None) -> None
    + alert (message: str, context: dict = None) -> None
    + critical (message: str, context: dict = None) -> None
    + error (message: str, context: dict = None) -> None
    + warning (message: str, context: dict = None) -> None
    + notice (message: str, context: dict = None) -> None
    + info (message: str, context: dict = None) -> None
    + debug (message: str, context: dict = None) -> None
    - - -
    + log (level: str, message: str, context: dict = None) -> None
  }
}

package md.log {
  class md.log.Logger implements psr.log.LoggerInterface {
    - patch_list: List[PatchInterface]
    - keep_list: List[KeepInterface]
    - - -
    + emergency (message: str, context: dict = None) -> None
    + alert (message: str, context: dict = None) -> None
    + critical (message: str, context: dict = None) -> None
    + error (message: str, context: dict = None) -> None
    + warning (message: str, context: dict = None) -> None
    + notice (message: str, context: dict = None) -> None
    + info (message: str, context: dict = None) -> None
    + debug (message: str, context: dict = None) -> None
    - - -
    + log (level: str, message: str, context: dict = None) -> None
  }

  interface md.log.KeepInterface {
    + keep(record: dict) -> None
  }

  interface md.log.PatchInterface {
    + patch(record: dict) -> dict
  }

  interface md.log.FormatInterface {
    + format(record: dict) -> str
  }

  class md.log.Format implements md.log.FormatInterface {
    - record_format: str
    - date_format: str
    - - -
    + format(record: dict) -> str
  }

  class SerializationFormat implements md.log.FormatInterface {
    - serializer: Callable[[dict], str]
    - date_format: str
    - - -
    + format(record: dict) -> str
  }

  class md.log.ThreadPidPatch implements md.log.PatchInterface {
    + patch(record: dict) -> dict
  }
  class md.log.FormatExceptionPatch implements md.log.PatchInterface {
    + patch(record: dict) -> dict
  }

  class md.log.KeepStream implements md.log.KeepInterface {
    - format: FormatInterface
    - stream_list: List[IO]
    - - -
    + __init__(
        stream_list: List[IO],
        format_: FormatInterface = None
    ) -> None
    - - -
    + {static} from_file(
      filename_list: List[str],
      format_: FormatInterface = None
    ) -> None
    - - -
    + keep(record: dict) -> None
  }

  class md.log.PidPatch implements md.log.PatchInterface {
    + patch(record: dict) -> dict
  }

  md.log.Logger o- -> md.log.PatchInterface : "1:n"
  md.log.Logger *-> md.log.KeepInterface : "1:n"
  md.log.KeepStream o- -> md.log.FormatInterface : "1:1"
}

@enduml

PlantUML version 1.2022.0(Tue Jan 11 19:16:42 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>